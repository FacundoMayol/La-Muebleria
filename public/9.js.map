{"version":3,"sources":["webpack:///./resources/js/views/CreateProduct.vue?5e2b","webpack:///resources/js/views/CreateProduct.vue","webpack:///./resources/js/views/CreateProduct.vue?16b5","webpack:///./resources/js/views/CreateProduct.vue"],"names":["this","categories","$notify","Object","keys","form","forEach","input","console","log","$router","push","submiting","component","_vm","_h","$createElement","_c","_self","staticClass","_v","on","$event","preventDefault","submitForm","directives","name","rawName","value","expression","modifiers","attrs","domProps","target","composing","$set","trim","$forceUpdate","_l","validationErrors","error","index","key","_s","onlyNumbers","_n","ref","thumbnail","files","getImage","_e","$refs","setDetailsImages","image","details","length","detailsC","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","_value","multiple","category","id","generalError"],"mappings":"gGAAA,I,4UCmFA,IA6FA,EAvBA,ECzJ6M,EDmF7M,CACE,KADF,WAEI,MAAJ,CACM,WAAN,EACM,WAAN,GACM,KAAN,CACQ,KAAR,GACQ,MAAR,GACQ,YAAR,GACQ,MAAR,KACQ,UAAR,KACQ,QAAR,GACQ,SAAR,IAEM,iBAAN,CACQ,KAAR,GACQ,MAAR,GACQ,YAAR,GACQ,MAAR,GACQ,UAAR,GACQ,QAAR,GACQ,SAAR,IAEM,aAAN,GACM,SAAN,OAGE,QA3BF,WA4BI,KAAJ,mBAEE,MAAF,CACI,OAAJ,WACM,KAAN,aACM,KAAN,cACM,KAAN,aACM,KAAN,cACM,KAAN,oBACM,KAAN,gBACM,KAAN,oBACM,KAAN,gBACM,KAAN,iBACM,KAAN,yBACM,KAAN,0BACM,KAAN,gCACM,KAAN,0BACM,KAAN,8BACM,KAAN,4BACM,KAAN,6BACM,KAAN,gBACM,KAAN,cACM,KAAN,oBAGE,QAAF,CACI,iBAAJ,YACM,KAAN,eACM,KAAN,iCAEI,SAAJ,YACM,OAAN,wBAEI,YAAJ,YAEM,IAAN,GADM,EAAN,iBACA,wBACM,KAAN,4BAGQ,OAAR,EAFQ,EAAR,kBAKI,iBAAJ,2BAAQ,IAAR,EAAQ,OAAR,mFAEA,6BAFA,OAEgBA,KAAKC,WAFrB,OAEA,KAFA,gDAIgB,EAAhB,GACoB,EAApB,YACA,0BACA,qCACA,uDACA,4CAEkB,EADlB,aACA,iCAEA,uCAEgBD,KAAKE,QAAQ,CACX,MAAlB,WACkB,KAAlB,QACkB,MAAlB,iCACkB,KAAlB,0BAnBA,yDAAM,WAAE,OAAR,0BAuBI,YAAJ,2BAAQ,IAAR,MAAQ,OAAR,iEACA,kBADA,SAGgB,EAAhB,aACgB,EAAhB,KACgBC,OAAOC,KAAKJ,KAAKK,MAAMC,SAAQ,SAAUC,GACzD,wBACA,sBACA,cACA,mCACoB,EAApB,iCAVA,SAaA,8BACkB,QAAlB,CACoB,eAApB,yBAfA,OAkBgBC,QAAQC,IAAI,oBACZT,KAAKE,QAAQ,CACX,MAAlB,WACkB,KAAlB,UACkB,MAAlB,kCAEgBF,KAAKU,QAAQC,KAAK,CAAlC,oBAxBA,kDA0BoB,EAApB,YACA,qDACA,0DAEA,2DAEkB,EAAlB,GAEoB,EADpB,aACA,iCAEA,uCAEkB,KAAlB,sCAtCA,yBAyCgBX,KAAKY,WAAY,EAzCjC,6EAAM,WAAE,OAAR,4B,OEzKIC,EAAY,YACd,GHRW,WAAa,IAAIC,EAAId,KAASe,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,wEAAwE,CAACF,EAAG,MAAM,CAACE,YAAY,gHAAgH,CAACF,EAAG,KAAK,CAACE,YAAY,mEAAmE,CAACL,EAAIM,GAAG,qBAAqBN,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,YAAYE,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBT,EAAIU,WAAWF,MAAW,CAACL,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,eAAeC,MAAOd,EAAIT,KAAS,KAAEwB,WAAW,YAAYC,UAAU,CAAC,MAAO,KAAQX,YAAY,+IAA+IY,MAAM,CAAC,KAAO,OAAO,UAAY,MAAM,YAAc,UAAUC,SAAS,CAAC,MAASlB,EAAIT,KAAS,MAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,WAAqBpB,EAAIqB,KAAKrB,EAAIT,KAAM,OAAQiB,EAAOW,OAAOL,MAAMQ,SAAS,KAAO,SAASd,GAAQ,OAAOR,EAAIuB,mBAAmBvB,EAAIM,GAAG,KAAKN,EAAIwB,GAAIxB,EAAIyB,iBAAqB,MAAE,SAASC,EAAMC,GAAO,OAAOxB,EAAG,IAAI,CAACyB,IAAID,EAAMtB,YAAY,gBAAgB,CAACL,EAAIM,GAAGN,EAAI6B,GAAGH,UAAa,GAAG1B,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,eAAeC,MAAOd,EAAIT,KAAU,MAAEwB,WAAW,aAAaC,UAAU,CAAC,MAAO,KAAQX,YAAY,+IAA+IY,MAAM,CAAC,KAAO,OAAO,UAAY,MAAM,YAAc,UAAUC,SAAS,CAAC,MAASlB,EAAIT,KAAU,OAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,WAAqBpB,EAAIqB,KAAKrB,EAAIT,KAAM,QAASiB,EAAOW,OAAOL,MAAMQ,SAAS,KAAO,SAASd,GAAQ,OAAOR,EAAIuB,mBAAmBvB,EAAIM,GAAG,KAAKN,EAAIwB,GAAIxB,EAAIyB,iBAAsB,OAAE,SAASC,EAAMC,GAAO,OAAOxB,EAAG,IAAI,CAACyB,IAAID,EAAMtB,YAAY,gBAAgB,CAACL,EAAIM,GAAGN,EAAI6B,GAAGH,UAAa,GAAG1B,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBC,MAAOd,EAAIT,KAAU,MAAEwB,WAAW,aAAaC,UAAU,CAAC,QAAS,KAAQX,YAAY,+IAA+IY,MAAM,CAAC,KAAO,OAAO,YAAc,UAAUC,SAAS,CAAC,MAASlB,EAAIT,KAAU,OAAGgB,GAAG,CAAC,SAAW,SAASC,GAAQ,OAAOR,EAAI8B,YAAYtB,IAAS,MAAQ,SAASA,GAAWA,EAAOW,OAAOC,WAAqBpB,EAAIqB,KAAKrB,EAAIT,KAAM,QAASS,EAAI+B,GAAGvB,EAAOW,OAAOL,SAAS,KAAO,SAASN,GAAQ,OAAOR,EAAIuB,mBAAmBvB,EAAIM,GAAG,KAAKN,EAAIwB,GAAIxB,EAAIyB,iBAAsB,OAAE,SAASC,EAAMC,GAAO,OAAOxB,EAAG,IAAI,CAACyB,IAAID,EAAMtB,YAAY,gBAAgB,CAACL,EAAIM,GAAGN,EAAI6B,GAAGH,UAAa,GAAG1B,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,eAAeC,MAAOd,EAAIT,KAAgB,YAAEwB,WAAW,mBAAmBC,UAAU,CAAC,MAAO,KAAQX,YAAY,+IAA+IY,MAAM,CAAC,YAAc,eAAeC,SAAS,CAAC,MAASlB,EAAIT,KAAgB,aAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOW,OAAOC,WAAqBpB,EAAIqB,KAAKrB,EAAIT,KAAM,cAAeiB,EAAOW,OAAOL,MAAMQ,SAAS,KAAO,SAASd,GAAQ,OAAOR,EAAIuB,mBAAmBvB,EAAIM,GAAG,KAAKN,EAAIwB,GAAIxB,EAAIyB,iBAA4B,aAAE,SAASC,EAAMC,GAAO,OAAOxB,EAAG,IAAI,CAACyB,IAAID,EAAMtB,YAAY,gBAAgB,CAACL,EAAIM,GAAGN,EAAI6B,GAAGH,UAAa,GAAG1B,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACA,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACL,EAAIM,GAAG,aAAaN,EAAIM,GAAG,KAAKH,EAAG,QAAQ,CAAC6B,IAAI,YAAYf,MAAM,CAAC,KAAO,OAAO,OAAS,WAAWV,GAAG,CAAC,OAAS,SAASC,GAAQR,EAAIT,KAAK0C,UAAYzB,EAAOW,OAAOe,MAAM,SAASlC,EAAIM,GAAG,KAAMN,EAAIT,KAAc,UAAEY,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,gDAAgDY,MAAM,CAAC,IAAMjB,EAAImC,SAASnC,EAAIT,KAAK0C,gBAAgBjC,EAAIoC,KAAKpC,EAAIM,GAAG,KAAMN,EAAIT,KAAc,UAAEY,EAAG,SAAS,CAACE,YAAY,gEAAgEY,MAAM,CAAC,KAAO,UAAUV,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIqC,MAAMJ,UAAUnB,MAAQ,GAAId,EAAIT,KAAK0C,UAAY,QAAQ,CAACjC,EAAIM,GAAG,qBAAqBN,EAAIoC,KAAKpC,EAAIM,GAAG,KAAKN,EAAIwB,GAAIxB,EAAIyB,iBAA0B,WAAE,SAASC,EAAMC,GAAO,OAAOxB,EAAG,IAAI,CAACyB,IAAID,EAAMtB,YAAY,gBAAgB,CAACL,EAAIM,GAAGN,EAAI6B,GAAGH,UAAa,GAAG1B,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACA,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACL,EAAIM,GAAG,0BAA0BN,EAAIM,GAAG,KAAKH,EAAG,QAAQ,CAAC6B,IAAI,UAAUf,MAAM,CAAC,KAAO,OAAO,OAAS,UAAU,SAAW,IAAIV,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAIsC,iBAAiB9B,EAAOW,OAAOe,aAAalC,EAAIM,GAAG,KAAMN,EAAY,SAAEG,EAAG,MAAM,CAACE,YAAY,2BAA2BL,EAAIwB,GAAIxB,EAAY,UAAE,SAASuC,EAAMZ,GAAO,OAAOxB,EAAG,MAAM,CAACyB,IAAID,EAAMtB,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,gDAAgDY,MAAM,CAAC,IAAMsB,UAAa,GAAGvC,EAAIoC,KAAKpC,EAAIM,GAAG,KAAMN,EAAIT,KAAKiD,QAAQC,OAAS,EAAGtC,EAAG,SAAS,CAACE,YAAY,gEAAgEY,MAAM,CAAC,KAAO,UAAUV,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIqC,MAAMG,QAAQ1B,MAAQ,GAAId,EAAIT,KAAKiD,QAAU,GAAIxC,EAAI0C,SAAW,QAAQ,CAAC1C,EAAIM,GAAG,qBAAqBN,EAAIoC,KAAKpC,EAAIM,GAAG,KAAKN,EAAIwB,GAAIxB,EAAIyB,iBAAwB,SAAE,SAASC,EAAMC,GAAO,OAAOxB,EAAG,IAAI,CAACyB,IAAID,EAAMtB,YAAY,gBAAgB,CAACL,EAAIM,GAAGN,EAAI6B,GAAGH,UAAa,GAAG1B,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACA,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACL,EAAIM,GAAG,gBAAgBN,EAAIM,GAAG,KAAKH,EAAG,SAAS,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOd,EAAIT,KAAa,SAAEwB,WAAW,kBAAkBV,YAAY,gBAAgBE,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAImC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKvC,EAAOW,OAAO6B,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEG,OAASH,EAAEnC,SAAoBd,EAAIqB,KAAKrB,EAAIT,KAAM,WAAYiB,EAAOW,OAAOkC,SAAWV,EAAgBA,EAAc,OAAO,CAACxC,EAAG,SAAS,CAACc,MAAM,CAAC,SAAW,GAAG,MAAQ,KAAK,CAACjB,EAAIM,GAAG,iCAAiCN,EAAIM,GAAG,KAAKN,EAAIwB,GAAIxB,EAAc,YAAE,SAASsD,EAAS3B,GAAO,OAAOxB,EAAG,SAAS,CAACyB,IAAID,EAAMT,SAAS,CAAC,MAAQoC,EAASC,KAAK,CAACvD,EAAIM,GAAG,qCAAqCN,EAAI6B,GAAGyB,EAAS1C,MAAM,wCAAuC,KAAKZ,EAAIM,GAAG,KAAKN,EAAIwB,GAAIxB,EAAIyB,iBAAyB,UAAE,SAASC,EAAMC,GAAO,OAAOxB,EAAG,IAAI,CAACyB,IAAID,EAAMtB,YAAY,gBAAgB,CAACL,EAAIM,GAAGN,EAAI6B,GAAGH,UAAa,GAAG1B,EAAIM,GAAG,KAAMN,EAAgB,aAAEG,EAAG,IAAI,CAACE,YAAY,gBAAgB,CAACL,EAAIM,GAAGN,EAAI6B,GAAG7B,EAAIwD,iBAAiBxD,EAAIoC,KAAKpC,EAAIM,GAAG,KAAKH,EAAG,SAAS,CAACE,YAAY,8EAA8EY,MAAM,CAAC,SAAWjB,EAAIF,UAAU,KAAO,WAAW,CAAEE,EAAa,UAAE,CAACG,EAAG,OAAO,CAACE,YAAY,2CAA2C,CAACL,EAAIM,GAAG,oEAAoE,aACvgO,IGUpB,EACA,KACA,KACA,MAIa,UAAAP,E","file":"9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-1 flex-col sm:justify-center items-center sm:bg-orange-400\"},[_c('div',{staticClass:\"bg-white sm:border sm:border-orange-500 sm:rounded-md sm:shadow-lg w-full max-w-full sm:max-w-sm lg:max-w-lg\"},[_c('h1',{staticClass:\"bg-orange-500 text-white font-semibold text-3xl text-center p-4\"},[_vm._v(\"Añadir producto\")]),_vm._v(\" \"),_c('div',{staticClass:\"px-8 py-6\"},[_c('form',{staticClass:\"space-y-6\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm($event)}}},[_c('div',{staticClass:\"space-y-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.form.name),expression:\"form.name\",modifiers:{\"trim\":true}}],staticClass:\"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out\",attrs:{\"type\":\"text\",\"maxlength\":\"100\",\"placeholder\":\"Nombre\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),_vm._l((_vm.validationErrors.name),function(error,index){return _c('p',{key:index,staticClass:\"text-red-600\"},[_vm._v(_vm._s(error))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"space-y-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.form.model),expression:\"form.model\",modifiers:{\"trim\":true}}],staticClass:\"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out\",attrs:{\"type\":\"text\",\"maxlength\":\"100\",\"placeholder\":\"Modelo\"},domProps:{\"value\":(_vm.form.model)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"model\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),_vm._l((_vm.validationErrors.model),function(error,index){return _c('p',{key:index,staticClass:\"text-red-600\"},[_vm._v(_vm._s(error))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"space-y-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.form.price),expression:\"form.price\",modifiers:{\"number\":true}}],staticClass:\"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out\",attrs:{\"type\":\"text\",\"placeholder\":\"Precio\"},domProps:{\"value\":(_vm.form.price)},on:{\"keypress\":function($event){return _vm.onlyNumbers($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"price\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),_vm._l((_vm.validationErrors.price),function(error,index){return _c('p',{key:index,staticClass:\"text-red-600\"},[_vm._v(_vm._s(error))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"space-y-2\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.form.description),expression:\"form.description\",modifiers:{\"trim\":true}}],staticClass:\"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out\",attrs:{\"placeholder\":\"Descripción\"},domProps:{\"value\":(_vm.form.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"description\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),_vm._l((_vm.validationErrors.description),function(error,index){return _c('p',{key:index,staticClass:\"text-red-600\"},[_vm._v(_vm._s(error))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"space-y-2\"},[_c('label',[_c('span',{staticClass:\"text-orange-500\"},[_vm._v(\"Imágen:\")]),_vm._v(\" \"),_c('input',{ref:\"thumbnail\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){_vm.form.thumbnail = $event.target.files[0]}}})]),_vm._v(\" \"),(_vm.form.thumbnail)?_c('div',{staticClass:\"w-3/12 h-auto p-2\"},[_c('img',{staticClass:\"border border-orange-600 rounded-md shadow-md\",attrs:{\"src\":_vm.getImage(_vm.form.thumbnail)}})]):_vm._e(),_vm._v(\" \"),(_vm.form.thumbnail)?_c('button',{staticClass:\"text-blue-500 hover:text-blue-600 focus:text-blue-600 text-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.$refs.thumbnail.value = ''; _vm.form.thumbnail = null}}},[_vm._v(\"Borrar imágenes\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.validationErrors.thumbnail),function(error,index){return _c('p',{key:index,staticClass:\"text-red-600\"},[_vm._v(_vm._s(error))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"space-y-2\"},[_c('label',[_c('span',{staticClass:\"text-orange-500\"},[_vm._v(\"Imágenes de detalle:\")]),_vm._v(\" \"),_c('input',{ref:\"details\",attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"multiple\":\"\"},on:{\"change\":function($event){return _vm.setDetailsImages($event.target.files)}}})]),_vm._v(\" \"),(_vm.detailsC)?_c('div',{staticClass:\"flex flex-row flex-wrap\"},_vm._l((_vm.detailsC),function(image,index){return _c('div',{key:index,staticClass:\"w-3/12 h-auto p-2\"},[_c('img',{staticClass:\"border border-orange-600 rounded-md shadow-md\",attrs:{\"src\":image}})])}),0):_vm._e(),_vm._v(\" \"),(_vm.form.details.length > 0)?_c('button',{staticClass:\"text-blue-500 hover:text-blue-600 focus:text-blue-600 text-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.$refs.details.value = ''; _vm.form.details = []; _vm.detailsC = null}}},[_vm._v(\"Borrar imágenes\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.validationErrors.details),function(error,index){return _c('p',{key:index,staticClass:\"text-red-600\"},[_vm._v(_vm._s(error))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"space-y-2\"},[_c('label',[_c('span',{staticClass:\"text-orange-500\"},[_vm._v(\"Categoría:\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.category),expression:\"form.category\"}],staticClass:\"text-gray-800\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"category\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Seleccione alguna categoría\")]),_vm._v(\" \"),_vm._l((_vm.categories),function(category,index){return _c('option',{key:index,domProps:{\"value\":category.id}},[_vm._v(\"\\n                                \"+_vm._s(category.name)+\"\\n                            \")])})],2)]),_vm._v(\" \"),_vm._l((_vm.validationErrors.category),function(error,index){return _c('p',{key:index,staticClass:\"text-red-600\"},[_vm._v(_vm._s(error))])})],2),_vm._v(\" \"),(_vm.generalError)?_c('p',{staticClass:\"text-red-600\"},[_vm._v(_vm._s(_vm.generalError))]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"w-full btn-outlined btn-outlined-orange font-semibold text-center px-3 py-2\",attrs:{\"disabled\":_vm.submiting,\"type\":\"submit\"}},[(_vm.submiting)?[_c('span',{staticClass:\"spinner spinner-disabled w-6 h-6 mx-2\"})]:[_vm._v(\"\\n                        Crear producto\\n                    \")]],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"flex flex-1 flex-col sm:justify-center items-center sm:bg-orange-400\">\r\n        <div class=\"bg-white sm:border sm:border-orange-500 sm:rounded-md sm:shadow-lg w-full max-w-full sm:max-w-sm lg:max-w-lg\">\r\n            <h1 class=\"bg-orange-500 text-white font-semibold text-3xl text-center p-4\">Añadir producto</h1>\r\n            <div class=\"px-8 py-6\">\r\n                <form class=\"space-y-6\" @submit.prevent=\"submitForm\">\r\n                    <div class=\"space-y-2\">\r\n                        <input v-model.trim=\"form.name\" type=\"text\" maxlength=\"100\" class=\"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out\" placeholder=\"Nombre\"/>\r\n                        <p class=\"text-red-600\" v-for=\"(error, index) in validationErrors.name\" :key=\"index\">{{ error }}</p>\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                        <input v-model.trim=\"form.model\" type=\"text\" maxlength=\"100\" class=\"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out\" placeholder=\"Modelo\"/>\r\n                        <p class=\"text-red-600\" v-for=\"(error, index) in validationErrors.model\" :key=\"index\">{{ error }}</p>\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                        <input v-model.number=\"form.price\" @keypress=\"onlyNumbers($event)\" type=\"text\" class=\"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out\" placeholder=\"Precio\">\r\n                        <p class=\"text-red-600\" v-for=\"(error, index) in validationErrors.price\" :key=\"index\">{{ error }}</p>\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                        <textarea v-model.trim=\"form.description\" class=\"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out\" placeholder=\"Descripción\"></textarea>\r\n                        <p class=\"text-red-600\" v-for=\"(error, index) in validationErrors.description\" :key=\"index\">{{ error }}</p>\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                        <label>\r\n                            <span class=\"text-orange-500\">Imágen:</span>\r\n                            <input type=\"file\" ref=\"thumbnail\" accept=\"image/*\"\r\n                            @change=\"form.thumbnail = $event.target.files[0]\">\r\n                        </label>\r\n                        <div class=\"w-3/12 h-auto p-2\"\r\n                        v-if=\"form.thumbnail\">\r\n                            <img \r\n                            :src=\"getImage(form.thumbnail)\"\r\n                            class=\"border border-orange-600 rounded-md shadow-md\">\r\n                        </div>\r\n                        <button v-if=\"form.thumbnail\" @click=\"$refs.thumbnail.value = ''; form.thumbnail = null\" type=\"button\" class=\"text-blue-500 hover:text-blue-600 focus:text-blue-600 text-sm\">Borrar imágenes</button>\r\n                        <p class=\"text-red-600\" v-for=\"(error, index) in validationErrors.thumbnail\" :key=\"index\">{{ error }}</p>\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                        <label>\r\n                            <span class=\"text-orange-500\">Imágenes de detalle:</span>\r\n                            <input type=\"file\" ref=\"details\" accept=\"image/*\" multiple\r\n                            @change=\"setDetailsImages($event.target.files)\">\r\n                        </label>\r\n                        <div v-if=\"detailsC\" class=\"flex flex-row flex-wrap\">\r\n                            <div class=\"w-3/12 h-auto p-2\"\r\n                            v-for=\"(image, index) in detailsC\" \r\n                            :key=\"index\">\r\n                                <img \r\n                                :src=\"image\"\r\n                                class=\"border border-orange-600 rounded-md shadow-md\">\r\n                            </div>\r\n                        </div>\r\n                        <button v-if=\"form.details.length > 0\" @click=\"$refs.details.value = ''; form.details = []; detailsC = null\" type=\"button\" class=\"text-blue-500 hover:text-blue-600 focus:text-blue-600 text-sm\">Borrar imágenes</button>\r\n                        <p class=\"text-red-600\" v-for=\"(error, index) in validationErrors.details\" :key=\"index\">{{ error }}</p>\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                        <label>\r\n                            <span class=\"text-orange-500\">Categoría:</span>\r\n                            <select v-model=\"form.category\" class=\"text-gray-800\">\r\n                                <option disabled value=\"\">Seleccione alguna categoría</option>\r\n                                <option v-for=\"(category, index) in categories\" :key=\"index\" :value=\"category.id\">\r\n                                    {{ category.name }}\r\n                                </option>\r\n                            </select>\r\n                        </label>\r\n                        <p class=\"text-red-600\" v-for=\"(error, index) in validationErrors.category\" :key=\"index\">{{ error }}</p>\r\n                    </div>\r\n                    <p class=\"text-red-600\" v-if=\"generalError\">{{ generalError }}</p>\r\n                    <button :disabled=\"submiting\" type=\"submit\" class=\"w-full btn-outlined btn-outlined-orange font-semibold text-center px-3 py-2\">\r\n                        <template v-if=\"submiting\">\r\n                            <span class=\"spinner spinner-disabled w-6 h-6 mx-2\"></span>\r\n                        </template>\r\n                        <template v-else>\r\n                            Crear producto\r\n                        </template>\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            submiting: false,\r\n            categories: [],\r\n            form: {\r\n                name: '',\r\n                model: '',\r\n                description: '',\r\n                price: null,\r\n                thumbnail: null,\r\n                details: [],\r\n                category: ''   \r\n            },\r\n            validationErrors: {\r\n                name: [],\r\n                model: [],\r\n                description: [],\r\n                price: [],\r\n                thumbnail: [],\r\n                details: [],\r\n                category: []\r\n            },\r\n            generalError: '',\r\n            detailsC: null\r\n        }\r\n    },\r\n    created () {\r\n        this.fetchCategories()\r\n    },\r\n    watch: {\r\n        $route: function () {\r\n            this.submiting = false\r\n            this.categories = []\r\n            this.form.name = ''\r\n            this.form.model = ''\r\n            this.form.description = ''\r\n            this.form.price = null\r\n            this.form.thumbnail = null\r\n            this.form.details = []\r\n            this.form.category = ''\r\n            this.validationErrors.name = []\r\n            this.validationErrors.model = []\r\n            this.validationErrors.description = []\r\n            this.validationErrors.price = []\r\n            this.validationErrors.thumbnail = []\r\n            this.validationErrors.details = []\r\n            this.validationErrors.category = []\r\n            this.generalError = ''\r\n            this.detailsC = null\r\n            this.fetchCategories()\r\n        }\r\n    },\r\n    methods: {\r\n        setDetailsImages: function (files) {\r\n            this.form.details = files\r\n            this.detailsC = _.map(files, this.getImage)\r\n        },\r\n        getImage: function (imageFile) {\r\n            return URL.createObjectURL(imageFile)\r\n        },\r\n        onlyNumbers: function (event) {\r\n            event = (event) ? event : window.event\r\n            var charCode = (event.which) ? event.which : event.keyCode\r\n            if ((charCode > 31 && (charCode < 48 || charCode > 57)) && charCode !== 46) {\r\n                event.preventDefault()\r\n            } else {\r\n                return true\r\n            }\r\n        },\r\n        fetchCategories: async function () {\r\n            try {\r\n                this.categories = (await axios.get('/api/categories')).data\r\n            } catch(e) {\r\n                var tempError = \"\"\r\n                if (e.response) {\r\n                    if(e.response.status == 404)\r\n                        tempError += \"El recurso solicitado no existe\"\r\n                    else if(e.response.status == 401 || e.response.status == 403)\r\n                        tempError += \"No posee acceso al recurso solicitado\"\r\n                } else if (e.request) {\r\n                    tempError = \"El servidor tardó en responder\";\r\n                } else {\r\n                    tempError = \"No se pudo comunicar con el servidor\";\r\n                }\r\n                this.$notify({\r\n                    group: 'messages',\r\n                    type: 'error',\r\n                    title: 'Error al cargar las categorias',\r\n                    text: tempError + ' (' + e.message + ')'\r\n                });\r\n            }\r\n        },\r\n        submitForm: async function () {\r\n            this.submiting = true\r\n            try {\r\n                var formData = new FormData()\r\n                var vm = this\r\n                Object.keys(this.form).forEach(function (input) {\r\n                    if(vm.form[input] && input != 'details')\r\n                        formData.append(input, vm.form[input])\r\n                    else if(input == 'details')\r\n                        _.forEach(vm.form[input], function (file, index) {\r\n                            formData.append('details[' + index + ']', file)\r\n                        })\r\n                })\r\n                await axios.post('/api/products', formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data'\r\n                    }\r\n                })\r\n                console.log(\"Producto añadido\")\r\n                this.$notify({\r\n                    group: 'messages',\r\n                    type: 'success',\r\n                    title: 'Producto añadido exitosamente'\r\n                });\r\n                this.$router.push({ name: 'categories' })\r\n            } catch(e) {\r\n                if (e.response) {\r\n                    if(e.response.status == 401 || e.response.status == 403)\r\n                        this.generalError = \"No posee acceso al recurso solicitado\"\r\n                    else\r\n                        _.extend(this.validationErrors, e.response.data.errors)\r\n                } else {\r\n                    var tempError = \"\"\r\n                    if (e.request) {\r\n                        tempError = \"El servidor tardó en responder\";\r\n                    } else {\r\n                        tempError = \"No se pudo comunicar con el servidor\";\r\n                    }\r\n                    this.generalError = tempError + \" (\" + e.message + \")\"\r\n                }\r\n            } finally {\r\n                this.submiting = false\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateProduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateProduct.vue?vue&type=template&id=bfd6ffc2&\"\nimport script from \"./CreateProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateProduct.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}